{"version":3,"sources":["webpack:///./src/views/DayWgtSetup.vue?35df","webpack:///src/views/DayWgtSetup.vue","webpack:///./src/views/DayWgtSetup.vue?8c57","webpack:///./src/views/DayWgtSetup.vue","webpack:///./src/views/DayWgtSetup.vue?b4c3","webpack:///./src/apis/DayWgtSetupApi.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","availableCurrencies","on","changeCcy","_s","currentCcy","window","height","$event","currListToggle","data","dialog","buildProductionList","saveEventsToDB","model","value","callback","$$v","expression","ref","staticRenderFns","name","components","created","DayWgtSetupApi","addEventListener","handleResize","selectedEventsByCcy","productionList","eventsByCcy","width","computed","configEventsByCcy","columnSorting","onchange","onChangeByCcyEvents","tableOverflow","allowInsertRow","columns","nestedHeaders","configSelectedEventsByCcy","onChangeSelectedEventsByCcy","configProductionList","formattedProductionList","map","item","Date","methods","dev","innerWidth","innerHeight","setContainerDimensions","document","documentElement","style","setProperty","col","x","row","y","addEvent","EventName","eventsByCcyTable","getValueFromCoords","EventWgt","IncludeEvent","checkList","some","filter","push","selectedEventsByCcyTable","setData","event","checkBox","updateEventsByCcyWithSelectedEvents","parseFloat","wgt","dbObj","ccy","selectedEvents","JSON","stringify","forEach","element","watch","setTimeout","hideIndex","Object","assign","component","VBtn","VCard","VDialog","VIcon","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemTitle","VRow","VSpacer","VSubheader","VToolbar","GetAvailableCurr","Api","get","GetEvents","body","post","BuildProductionList","SaveDataToDB","refreshEventsFromApi"],"mappings":"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","file":"js/chunk-197a7d64.4c710f8e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dayWgtContainer\"},[_c('div',[_c('div',{staticClass:\"d-flex flex-row mb-5 flex-nowrap\"},[_c('v-toolbar',{attrs:{\"color\":\"#385F73\",\"min-width\":\"400\",\"collapse\":\"\"}},[_c('v-spacer'),_c('div',{staticClass:\"d-flex flex-column\"},[_c('h4',{staticClass:\"font-weight-medium text-center text-uppercase grey--text text--lighten-3\"},[_vm._v(\" corevolFX DAY WEIGHT SETTINGS \"),_c('v-btn',{staticClass:\"mb-4\",attrs:{\"icon\":\"\",\"x-small\":\"\"}},[_c('PopUpModal',{attrs:{\"inputData\":_vm.availableCurrencies,\"icon\":'mdi-dots-hexagon',\"color\":'green lighten-3',\"small\":true,\"title\":'Select Ccy'},on:{\"selection\":_vm.changeCcy}})],1)],1),_c('h4',{staticClass:\"font-weight-light text-center text-uppercase green--text text--lighten-3\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.currentCcy)+\" \")])]),_c('v-spacer')],1)],1),_c('div',{staticClass:\"d-flex flex-row flex-nowrap\"},[_c('div',{staticClass:\"dayWgtCol\"},[_c('v-card',{staticClass:\"mr-5 d-flex flex-column\",attrs:{\"height\":_vm.window.height,\"min-width\":\"240\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"blue\"}},[_c('v-subheader',[_vm._v(\"SELECT\")]),_c('v-list-item',{on:{\"click\":function($event){_vm.currListToggle = !_vm.currListToggle}}},[_c('v-list-item-action',[_c('v-btn',{attrs:{\"ripple\":\"\",\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"#385F73\"}},[_vm._v(\"mdi-expand-all\")])],1),_c('ModalNoButton',{attrs:{\"inputData\":_vm.availableCurrencies,\"title\":'Select Ccy',\"vmodel\":_vm.currListToggle},on:{\"setvmodel\":function (data) { return (_vm.currListToggle = data); },\"selection\":_vm.changeCcy}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"SELECT CURRENCY\")])],1)],1),_c('v-subheader',[_vm._v(\"EVENTS\")]),_c('v-list-item',{on:{\"click\":function($event){_vm.dialog = !_vm.dialog}}},[_c('v-list-item-action',[_c('v-btn',{attrs:{\"ripple\":\"\",\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"#126496\"}},[_vm._v(\"mdi-calendar-star\")])],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"AVAILABLE EVENTS\")])],1)],1),_c('v-subheader',[_vm._v(\"BUILD\")]),_c('v-list-item',{on:{\"click\":_vm.buildProductionList}},[_c('v-list-item-action',[_c('v-btn',{attrs:{\"ripple\":\"\",\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"yellow darken-3\"}},[_vm._v(\"mdi-lightning-bolt-outline\")])],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"BUILD PRODUCTION LIST\")])],1)],1),_c('v-subheader',[_vm._v(\"SAVE\")]),_c('v-list-item',{on:{\"click\":_vm.saveEventsToDB}},[_c('v-list-item-action',[_c('v-btn',{attrs:{\"ripple\":\"\",\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"green lighten-3\"}},[_vm._v(\"mdi-content-save\")])],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"SAVE EVENTS TO DB\")])],1)],1)],1)],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"max-width\":\"410\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('div',{ref:\"eventsByCcyTable\",staticClass:\"dayWgtCol\"})])],1),_c('div',[_c('div',{ref:\"selectedEventsByCcyTable\",staticClass:\"dayWgtCol mx-5\"})]),_c('div',[_c('div',{ref:\"productionListTable\",staticClass:\"dayWgtCol\"})])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dayWgtContainer\">\n    <!-- <v-btn color=\"blue\" @click=\"dev\">DEV</v-btn> -->\n    <div>\n      <div class=\"d-flex flex-row mb-5 flex-nowrap\">\n        <v-toolbar color=\"#385F73\" min-width=\"400\" collapse>\n          <v-spacer></v-spacer>\n          <div class=\"d-flex flex-column\">\n            <h4\n              class=\"font-weight-medium text-center text-uppercase grey--text text--lighten-3\"\n            >\n              corevolFX DAY WEIGHT SETTINGS\n              <v-btn icon x-small class=\"mb-4\">\n                <PopUpModal\n                  :inputData=\"availableCurrencies\"\n                  :icon=\"'mdi-dots-hexagon'\"\n                  :color=\"'green lighten-3'\"\n                  :small=\"true\"\n                  :title=\"'Select Ccy'\"\n                  v-on:selection=\"changeCcy\"\n                />\n              </v-btn>\n            </h4>\n            <h4\n              class=\"font-weight-light text-center text-uppercase green--text text--lighten-3\"\n              align=\"center\"\n              justify=\"center\"\n            >\n              {{ currentCcy }}\n            </h4>\n          </div>\n\n          <v-spacer></v-spacer>\n        </v-toolbar>\n      </div>\n      <div class=\"d-flex flex-row flex-nowrap\">\n        <div class=\"dayWgtCol\">\n          <v-card\n            :height=\"window.height\"\n            min-width=\"240\"\n            class=\"mr-5 d-flex flex-column\"\n          >\n            <v-list dense>\n              <v-list-item-group color=\"blue\">\n                <v-subheader>SELECT</v-subheader>\n                <v-list-item @click=\"currListToggle = !currListToggle\">\n                  <v-list-item-action>\n                    <v-btn ripple small icon>\n                      <v-icon color=\"#385F73\">mdi-expand-all</v-icon>\n                    </v-btn>\n                    <ModalNoButton\n                      :inputData=\"availableCurrencies\"\n                      :title=\"'Select Ccy'\"\n                      :vmodel=\"currListToggle\"\n                      v-on:setvmodel=\"data => (currListToggle = data)\"\n                      v-on:selection=\"changeCcy\"\n                    />\n                  </v-list-item-action>\n                  <v-list-item-content>\n                    <v-list-item-title>SELECT CURRENCY</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-subheader>EVENTS</v-subheader>\n                <v-list-item @click=\"dialog = !dialog\">\n                  <v-list-item-action>\n                    <v-btn ripple small icon>\n                      <v-icon color=\"#126496\">mdi-calendar-star</v-icon>\n                    </v-btn>\n                  </v-list-item-action>\n                  <v-list-item-content>\n                    <v-list-item-title>AVAILABLE EVENTS</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n\n                <v-subheader>BUILD</v-subheader>\n                <v-list-item @click=\"buildProductionList\">\n                  <v-list-item-action>\n                    <v-btn ripple small icon>\n                      <v-icon color=\"yellow darken-3\"\n                        >mdi-lightning-bolt-outline</v-icon\n                      >\n                    </v-btn>\n                  </v-list-item-action>\n                  <v-list-item-content>\n                    <v-list-item-title>BUILD PRODUCTION LIST</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-subheader>SAVE</v-subheader>\n                <v-list-item @click=\"saveEventsToDB\">\n                  <v-list-item-action>\n                    <v-btn ripple small icon>\n                      <v-icon color=\"green lighten-3\">mdi-content-save</v-icon>\n                    </v-btn>\n                  </v-list-item-action>\n                  <v-list-item-content>\n                    <v-list-item-title>SAVE EVENTS TO DB</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list-item-group>\n            </v-list>\n          </v-card>\n        </div>\n        <v-row justify=\"center\">\n          <v-dialog v-model=\"dialog\" max-width=\"410\">\n            <div class=\"dayWgtCol\" ref=\"eventsByCcyTable\"></div>\n          </v-dialog>\n        </v-row>\n        <div>\n          <div class=\"dayWgtCol mx-5\" ref=\"selectedEventsByCcyTable\"></div>\n        </div>\n        <div>\n          <div class=\"dayWgtCol\" ref=\"productionListTable\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport jexcelStyle from \"jexcel/dist/jexcel.css\"; // eslint-disable-line no-unused-vars\nimport jexcel from \"jexcel\"; // eslint-disable-line no-unused-vars\nimport setData from \"jexcel\"; // eslint-disable-line no-unused-vars\nimport * as customFunctions from \"@/externaljs/customfunctions.js\"; // eslint-disable-line no-unused-vars\nimport DayWgtSetupApi from \"@/apis/DayWgtSetupApi\";\nimport PopUpModal from \"@/components/common/PopUpModal.vue\";\nimport ModalNoButton from \"@/components/common/ModalNoButton.vue\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"DayWgtSetup\",\n  components: { PopUpModal, ModalNoButton },\n  created() {\n    DayWgtSetupApi.GetAvailableCurr().then(response => {\n      this.availableCurrencies = JSON.parse(response.data.availableCurrencies);\n    });\n\n    window.addEventListener(\"resize\", this.handleResize);\n    this.handleResize();\n  },\n\n  data() {\n    return {\n      currListToggle: false,\n      availableCurrencies: [],\n      currentCcy: \"SELECT CCY\",\n      selectedEventsByCcy: [],\n      productionList: [],\n      eventsByCcy: [],\n      dialog: false,\n      window: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n  computed: {\n    configEventsByCcy() {\n      return {\n        data: this.eventsByCcy,\n        columnSorting: false,\n        onchange: this.onChangeByCcyEvents,\n        tableOverflow: false,\n        allowInsertRow: false,\n        columns: [\n          { type: \"checkbox\", title: \"IncludeEvent\", width: 90 },\n          {\n            type: \"text\",\n            title: \"EventName\",\n            width: 320\n          }\n        ],\n        nestedHeaders: [\n          [\n            {\n              title: \"AVAILABLE EVENTS\",\n              colspan: 2\n            }\n          ]\n        ]\n      };\n    },\n    configSelectedEventsByCcy() {\n      return {\n        data: this.selectedEventsByCcy,\n        columnSorting: false,\n        onchange: this.onChangeSelectedEventsByCcy,\n        tableOverflow: false,\n        allowInsertRow: false,\n        columns: [\n          { type: \"checkbox\", title: \"IncludeEvent\", width: 90 },\n          {\n            type: \"text\",\n            title: \"EventName\",\n            width: 310\n          },\n          {\n            type: \"text\",\n            title: \"EventWgt\",\n            width: 90\n          }\n        ],\n        nestedHeaders: [\n          [\n            {\n              title: \"SELECTED EVENTS\",\n              colspan: 3\n            }\n          ]\n        ]\n      };\n    },\n    configProductionList() {\n      return {\n        data: this.formattedProductionList,\n        columnSorting: false,\n        tableOverflow: false,\n        allowInsertRow: false,\n        columns: [\n          {\n            type: \"text\",\n            title: \"Event\",\n            width: 175\n          },\n          {\n            type: \"text\",\n            title: \"Date\",\n            width: 175\n          },\n          {\n            type: \"text\",\n            title: \"DayWgt\",\n            width: 75\n          },\n          {\n            type: \"text\",\n            title: \"Time\",\n            width: 100\n          }\n        ],\n        nestedHeaders: [\n          [\n            {\n              title: \"PRODUCTION LIST\",\n              colspan: 4\n            }\n          ]\n        ]\n      };\n    },\n    formattedProductionList() {\n      return this.productionList.map(item => {\n        item.Date = moment(item.Date).format(\"DD-MMM-YYYY\");\n        return item;\n      });\n    }\n  },\n  methods: {\n    dev() {},\n    handleResize() {\n      this.window.width = window.innerWidth - 100;\n      this.window.height = window.innerHeight - 95;\n      this.setContainerDimensions();\n    },\n    setContainerDimensions() {\n      document.documentElement.style.setProperty(\n        \"--main-width\",\n        `${this.window.width}px`\n      );\n\n      document.documentElement.style.setProperty(\n        \"--main-height\",\n        `${this.window.height}px`\n      );\n    },\n    async getEvents(ccy) {\n      try {\n        let response = await DayWgtSetupApi.GetEvents({ Ccy: ccy });\n\n        this.eventsByCcy = JSON.parse(response.data.eventsByCcy);\n        this.selectedEventsByCcy = JSON.parse(response.data.selectedEvents);\n        this.productionList = JSON.parse(response.data.productionList);\n        this.currentCcy = ccy;\n      } catch (error) {\n        alert(error);\n      }\n    },\n\n    async changeCcy(ccy) {\n      await this.getEvents(ccy);\n      if (this.selectedEventsByCcy === null) {\n        this.selectedEventsByCcy = [];\n      }\n      if (this.productionList === null) {\n        this.productionList = [];\n      }\n      this.updateEventsByCcyWithSelectedEvents();\n      this.selectedEventsByCcyTable.setData(this.selectedEventsByCcy);\n      this.productionListTable.setData(this.formattedProductionList);\n    },\n    async buildProductionList() {\n      if (this.selectedEventsByCcy.length === 0) {\n        this.$store.dispatch(\"setSnackbar\", {\n          text: ` Select Events Before Building List`,\n          top: true\n        });\n        return;\n      }\n      try {\n        let response = await DayWgtSetupApi.BuildProductionList({\n          Ccy: this.currentCcy,\n          EventNames: this.selectedEventsByCcy.map(x => x.EventName)\n        });\n\n        const productionEvents = JSON.parse(response.data.selectedEvents);\n\n        this.productionList = [];\n\n        productionEvents.forEach(element => {\n          let dayWgt = this.selectedEventsByCcy.filter(\n            x => x.EventName === element.Title\n          )[0].EventWgt;\n\n          if (!element.Time.includes(\":\")) {\n            element.Time = \"00:00\";\n          }\n\n          this.productionList.push({\n            Event: element.Title,\n            Date: moment(element.Date).format(\"DD-MMM-YYYY\"),\n            DayWgt: dayWgt,\n            Time: element.Time\n          });\n        });\n\n        this.productionListTable.setData(\n          customFunctions.ReFormatJson(this.productionList)\n        );\n      } catch (error) {\n        alert(error);\n      }\n    },\n    onChangeByCcyEvents(instance, cell, x, y) {\n      var col = x;\n      var row = y;\n\n      if (col === \"0\") {\n        var addEvent = {\n          EventName: this.eventsByCcyTable.getValueFromCoords(\n            parseInt(1),\n            parseInt(row)\n          ),\n          EventWgt: 1.0,\n          IncludeEvent: true\n        };\n\n        var checkList = this.selectedEventsByCcy.some(\n          e => e.EventName === addEvent.EventName\n        );\n\n        if (!checkList) {\n          this.selectedEventsByCcy.push(addEvent);\n        } else {\n          this.selectedEventsByCcy = this.selectedEventsByCcy.filter(\n            e => e.EventName != addEvent.EventName\n          );\n        }\n\n        this.selectedEventsByCcyTable.setData(this.selectedEventsByCcy);\n      }\n    },\n    onChangeSelectedEventsByCcy(instance, cell, x, y) {\n      var col = x;\n      var row = y;\n\n      if (col === \"0\") {\n        var event = this.selectedEventsByCcyTable.getValueFromCoords(\n          parseInt(1),\n          parseInt(row)\n        );\n\n        const checkBox = this.selectedEventsByCcyTable.getValueFromCoords(\n          parseInt(0),\n          parseInt(row)\n        );\n\n        if (!checkBox) {\n          this.selectedEventsByCcy = this.selectedEventsByCcy.filter(\n            e => e.EventName != event\n          );\n\n          this.updateEventsByCcyWithSelectedEvents();\n          this.selectedEventsByCcyTable.setData(this.selectedEventsByCcy);\n          this.eventsByCcyTable.setData(this.eventsByCcy);\n        }\n      }\n      if (col === \"2\") {\n        const wgt = this.selectedEventsByCcyTable.getValueFromCoords(\n          parseInt(2),\n          parseInt(row)\n        );\n\n        this.selectedEventsByCcy[row].EventWgt = parseFloat(wgt);\n      }\n    },\n\n    saveEventsToDB() {\n      var dbObj = {\n        ccy: this.currentCcy,\n        selectedEvents: JSON.stringify(this.selectedEventsByCcy),\n        productionList: JSON.stringify(this.productionList)\n      };\n\n      DayWgtSetupApi.SaveDataToDB(dbObj)\n        .then(response => {\n          this.$store.dispatch(\"setSnackbar\", {\n            text: `Database Upadated With ${this.currentCcy} Events List `,\n            centered: true\n          });\n        })\n        .catch(error => {\n          this.$store.dispatch(\"setSnackbar\", {\n            text: `There was an error updating ${this.currentCcy} events: ${error} `,\n            centered: true\n          });\n        });\n    },\n    updateEventsByCcyWithSelectedEvents() {\n      this.eventsByCcy.forEach(element => {\n        var checkList = this.selectedEventsByCcy.some(\n          e => e.EventName === element.EventName\n        );\n\n        element.IncludeEvent = checkList === true ? true : false;\n      });\n    }\n  },\n\n  async mounted() {\n    await this.getEvents(\"USD\");\n    this.updateEventsByCcyWithSelectedEvents();\n\n    const selectedEventsByCcyTable = jexcel(\n      this.$refs[\"selectedEventsByCcyTable\"],\n      this.configSelectedEventsByCcy\n    );\n    selectedEventsByCcyTable.hideIndex();\n    Object.assign(this, { selectedEventsByCcyTable });\n\n    const productionListTable = jexcel(\n      this.$refs[\"productionListTable\"],\n      this.configProductionList\n    );\n    productionListTable.hideIndex();\n    Object.assign(this, { productionListTable });\n  },\n  watch: {\n    dialog() {\n      setTimeout(() => {\n        jexcel.destroy(this.$refs[\"eventsByCcyTable\"], false);\n        const eventsByCcyTable = jexcel(\n          this.$refs[\"eventsByCcyTable\"],\n          this.configEventsByCcy\n        );\n        eventsByCcyTable.hideIndex();\n        Object.assign(this, { eventsByCcyTable });\n      }, 500);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n$mainHeight: var(--main-height);\n$mainWidth: var(--main-width);\n\n.dayWgtContainer {\n  display: flex;\n  overflow: auto;\n  padding-left: 0px;\n  padding-right: 0px;\n  height: $mainHeight;\n  width: $mainWidth;\n}\n.dayWgtContainer .dayWgtCol {\n  display: flex;\n  overflow-y: auto;\n  height: $mainHeight;\n}\n\n.centerWrapper {\n  width: 100%;\n  height: 400px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayWgtSetup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayWgtSetup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DayWgtSetup.vue?vue&type=template&id=2c170377&\"\nimport script from \"./DayWgtSetup.vue?vue&type=script&lang=js&\"\nexport * from \"./DayWgtSetup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DayWgtSetup.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemTitle,VRow,VSpacer,VSubheader,VToolbar})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayWgtSetup.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayWgtSetup.vue?vue&type=style&index=0&lang=scss&\"","import Api from './Api'\n\nexport default {\n  GetAvailableCurr () {\n    return Api.get('GetAvailableCurr')\n  },\n  GetEvents (body) {\n    return Api.post('GetEvents', body)\n  },\n  BuildProductionList (body) {\n    return Api.post('BuildProductionList', body)\n  },\n  SaveDataToDB (body) {\n    return Api.post('SaveDataToDB', body)\n  },\n  refreshEventsFromApi () {\n    return Api.get('RefreshEventsFromApi')\n  },\n\n}\n"],"sourceRoot":""}