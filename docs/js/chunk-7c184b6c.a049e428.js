(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c184b6c"],{5320:function(t,e,n){"use strict";var s=n("675b"),a=n.n(s);a.a},"675b":function(t,e,n){},dc8f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("div",{staticClass:"d-flex flex-wrap"},[n("div",[n("v-toolbar",{staticClass:"mb-0 mr-2",attrs:{dark:"",height:"30",color:"blue-grey darken-0"}},[n("v-spacer"),n("v-toolbar-title",{staticClass:"text-subtitle-2"},[t._v("Select Ccy")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("PopUpModal",{attrs:{inputData:t.availableCurrencies,icon:"mdi-plus-box",color:"blue",title:"Select Ccy"},on:{selection:t.GetEvents}})],1)],1),n("div",{ref:"spreadsheet",staticStyle:{"margin-top":"20px"}})],1),n("div",[n("v-toolbar",{staticClass:"mb-0 mr-2",attrs:{dark:"",height:"30",color:"blue-grey darken-0"}},[n("v-spacer"),n("v-toolbar-title",{staticClass:"text-subtitle-2"},[t._v("Generate List")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"yellow"},on:{click:t.GetSelectedEventList}},[t._v("mdi-lightning-bolt")])],1)],1),n("div",{ref:"spreadsheet1",staticStyle:{"margin-top":"20px"}})],1),n("div",[n("v-toolbar",{staticClass:"mb-0 mr-2",attrs:{color:"blue-grey darken-0",dark:"",height:"30"}},[n("v-spacer"),n("v-toolbar-title",{staticClass:"text-subtitle-2"},[t._v("Save Setup To Databaset")]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"blue-grey"},on:{click:t.SaveEventsToDB}},[t._v("mdi-content-save")])],1)],1),n("div",{ref:"spreadsheet2",staticStyle:{"margin-top":"20px"}})],1)])])},a=[],i=(n("4de4"),n("c740"),n("4160"),n("caad"),n("c975"),n("45fc"),n("2532"),n("159b"),n("b85c")),c=(n("c4fc"),n("0179")),r=n.n(c),l=n("5053"),o=n("4a4a"),v={GetAvailableCurr:function(){return o["a"].get("GetAvailableCurr")},GetEvents:function(t){return o["a"].post("GetEvents",t)},GetSelectedEventList:function(t){return o["a"].post("GetSelectedEventList",t)},SaveDataToDB:function(t){return o["a"].post("SaveDataToDB",t)}},d=n("d017"),u={name:"DayWgtSetup",components:{PopUpModal:d["a"]},created:function(){var t=this;v.GetAvailableCurr().then((function(e){t.availableCurrencies=JSON.parse(e.data.availableCurrencies)}))},destroyed:function(){},data:function(){return{currListToggle:!1,availableCurrencies:[],currentCcy:"SELECT CCY",selectedEvents:[],productionList:[]}},computed:{configAllEvents:function(){return{columnSorting:!1,onchange:this.OnChangeAllEvents,tableOverflow:!1,allowInsertRow:!1,columns:[{type:"checkbox",title:"IncludeEvent",width:110},{type:"text",title:"EventName",width:350}]}},configSelectedEvents:function(){return{columnSorting:!1,onchange:this.OnChangeSelectedEvents,tableOverflow:!1,allowInsertRow:!1,columns:[{type:"checkbox",title:"IncludeEvent",width:110},{type:"text",title:"EventName",width:350},{type:"text",title:"EventWgt",width:110}]}},configProductionList:function(){return{columnSorting:!1,tableOverflow:!1,allowInsertRow:!1,columns:[{type:"text",title:"Event",width:200},{type:"text",title:"Date",width:200},{type:"text",title:"DayWgt",width:100},{type:"text",title:"Time",width:100}]}}},methods:{GetEvents:function(t){var e=this,n={name:t};v.GetEvents(n).then((function(n){var s=JSON.parse(n.data.currencyEvents),a=n.data.activeEvents,i=[];"null"!==a&&(i=l["c"](JSON.parse(a))),e.jexcelAllEvents.setData(l["c"](s)),e.selectedEvents=i,e.jexcelSelectedEvents.setData(e.selectedEvents),e.productionList=[],e.jexcelProductionList.setData(e.productionList),e.currentCcy=t,e.currListToggle=!1}))},GetSelectedEventList:function(){var t=this,e=[];this.selectedEvents.forEach((function(t){e.push(t[1])}));var n={name:this.currentCcy,eventNames:e};v.GetSelectedEventList(n).then((function(e){var n,s=Object(i["a"])(JSON.parse(e.data.selectedEvents));try{for(s.s();!(n=s.n()).done;){var a=n.value,c=t.selectedEvents.findIndex((function(t){return t[1]===a.Title})),r=t.jexcelSelectedEvents.getValueFromCoords(2,c);a.Time.includes(":")||(a.Time="00:00");var o={Event:a.Title,Date:a.Date,DayWgt:r,Time:a.Time};t.productionList.push(o)}}catch(v){s.e(v)}finally{s.f()}t.jexcelProductionList.setData(l["c"](t.productionList))}))},OnChangeAllEvents:function(t,e,n,s){var a=n,i=s;if("0"===a){var c=[!0,this.jexcelAllEvents.getValueFromCoords(parseInt(1),parseInt(i)),1],r=this.selectedEvents.some((function(t){return t[1]===c[1]}));r?this.selectedEvents=this.selectedEvents.filter((function(t){return t[1]!=c[1]})):this.selectedEvents.push(c),this.jexcelSelectedEvents.setData(this.selectedEvents)}},OnChangeSelectedEvents:function(t,e,n,s){var a=n,i=s;if("0"===a){var c=this.jexcelSelectedEvents.getValueFromCoords(parseInt(1),parseInt(i)),r=this.selectedEvents.some((function(t){return t[1]===c}));if(r){this.selectedEvents=this.selectedEvents.filter((function(t){return t[1]!=c}));var l=this.jexcelAllEvents.getColumnData(1),o=l.indexOf(c);this.jexcelAllEvents.setValueFromCoords(0,o,!1,!0)}this.jexcelSelectedEvents.setData(this.selectedEvents)}},ConvertSelectedEventsToObjArr:function(){var t=[];return this.jexcelSelectedEvents.getData().forEach((function(e){var n={IncludeEvent:e[0],EventName:e[1],EventWgt:e[2]};t.push(n)})),t},SaveEventsToDB:function(){var t={ccy:this.currentCcy,selectedEvents:JSON.stringify(this.ConvertSelectedEventsToObjArr()),productionList:JSON.stringify(this.productionList)};v.SaveDataToDB(t).then((function(t){alert("Database Upadated. Status "+t.status)})).catch((function(t){alert(t)}))}},mounted:function(){var t=r()(this.$refs["spreadsheet"],this.configAllEvents);t.hideIndex(),Object.assign(this,{jexcelAllEvents:t});var e=r()(this.$refs["spreadsheet1"],this.configSelectedEvents);e.hideIndex(),Object.assign(this,{jexcelSelectedEvents:e});var n=r()(this.$refs["spreadsheet2"],this.configProductionList);n.hideIndex(),Object.assign(this,{jexcelProductionList:n})}},h=u,f=(n("5320"),n("2877")),p=n("6544"),E=n.n(p),b=n("8336"),g=n("a523"),S=n("132d"),m=n("2fa4"),x=n("71d9"),C=n("2a7f"),y=Object(f["a"])(h,s,a,!1,null,null,null);e["default"]=y.exports;E()(y,{VBtn:b["a"],VContainer:g["a"],VIcon:S["a"],VSpacer:m["a"],VToolbar:x["a"],VToolbarTitle:C["a"]})}}]);
//# sourceMappingURL=chunk-7c184b6c.a049e428.js.map