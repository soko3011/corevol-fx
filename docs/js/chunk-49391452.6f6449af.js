(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49391452"],{"0558d":function(t,e,n){},"2fe7":function(t,e,n){},"4a4d":function(t,e,n){},"4d2e":function(t,e,n){"use strict";n("0558d")},6200:function(t,e,n){"use strict";n("ab26")},7905:function(t,e,n){"use strict";n("b3de")},8677:function(t,e,n){"use strict";n("4a4d")},ab26:function(t,e,n){},b3de:function(t,e,n){},b69b:function(t,e,n){},bb9d:function(t,e,n){},e3f4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex flex-row mb-5 flex-nowrap"},[n("v-toolbar",{attrs:{color:"#385F73","min-width":"400",collapse:""}},[n("v-switch",{staticClass:"mt-5",attrs:{dense:"",color:"success",inset:""},model:{value:t.isRange,callback:function(e){t.isRange=e},expression:"isRange"}}),n("v-spacer"),n("div",{staticClass:"d-flex flex-column mr-10"},[n("h4",{staticClass:"font-weight-medium text-center text-uppercase grey--text text--lighten-3"},[t._v(" corevolFX Broker Prices NLP ")]),n("h4",{staticClass:"font-weight-light text-center text-uppercase green--text text--lighten-3",attrs:{align:"center",justify:"center"}},[t._v(" "+t._s(t.pageHeader)+" ")])])],1)],1),n("div",{staticClass:"d-flex flex-row mb-5 flex-nowrap"},[t.isRange?n("RangeBrokerNlp",{on:{cross_changed:t.setCrossHeader}}):n("SingleBrokerNlpMain",{on:{cross_changed:t.setCrossHeader}})],1)])},r=[],i=(n("99af"),n("5530")),s=(n("96cf"),n("1da1")),c=n("0cd9"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{staticClass:"center"},[t.childDataLoaded?t._e():n("v-progress-linear",{attrs:{indeterminate:""}})],1),n("div",{staticClass:"d-flex flex-row"},[n("SideBar",{attrs:{showSideControl:!0,recentCrosses:t.recentCrosses},on:{alert_config:t.updateConfigFromSideBar,toggle_search_view:t.toggleSearchView}}),"NLP"===t.config.view?n("SingleBrokerNlpModel",{key:t.componentKey,attrs:{cross:t.config.selectedCross,filter:t.config.filter,date_str:t.date_str_arr},on:{alert_child_data_loaded:t.setChildDataStatus,emit_selected_raw_text:t.setSelectedRawText}}):t._e(),"SUMMARY"===t.config.view?n("BrokerChatSummary",{key:t.componentKey,attrs:{date_str:t.date_str_arr},on:{alert_child_data_loaded:t.setChildDataStatus,cross_selected:t.updateConfigFromSummary}}):t._e(),"SEARCH"===t.config.view?n("ChatSearchController",{attrs:{date_str:t.config.date_str,searchSentence:t.searchSentence,selectedCross:t.config.selectedCross}}):t._e()],1)],1)},l=[],d=(n("4de4"),n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"d-flex flex-row"},[n("div",{staticClass:"d-flex flex-column nlp_sidebar mr-1"},[t.showSideControl?n("v-card",{attrs:{"min-width":"225",height:t.window.height}},[n("v-list",{attrs:{dense:""}},[n("v-subheader",[t._v("Model Date ")]),n("v-list-item",{on:{click:function(e){t.date_str_toggle=!t.date_str_toggle}}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"#385F73"}},[t._v("mdi-calendar-sync")])],1),n("ModalNoButton",{attrs:{inputData:t.chat_dates,title:"SELECT DATE",vmodel:t.date_str_toggle},on:{setvmodel:function(e){return t.date_str_toggle=e},selection:t.setDateStr}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.config.date_str.toUpperCase()))])],1)],1),n("v-subheader",[t._v("Actions ")]),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){return t.selectSummaryView()}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"blue darken-3"}},[t._v("mdi-dots-triangle")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SUMMARY")])],1)],1),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){return t.selectSearchView()}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"blue darken-3"}},[t._v("mdi-file-search-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SEARCH TEXT")])],1)],1),n("v-subheader",[t._v("Filters")]),t._l(this.filterHeaders,(function(e){return n("v-list-item",{key:e,attrs:{ripple:""},on:{click:function(n){return t.setFilter(e)}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"green darken-3"}},[t._v("mdi-dots-hexagon")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e))])],1)],1)})),n("v-subheader",[t._v("Recently Used")]),t._l(this.recentCrosses,(function(e){return n("v-list-item",{key:e,attrs:{ripple:""},on:{click:function(n){return t.setRecentlyUsedCross(e)}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"green darken-3"}},[t._v("mdi-dots-square")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e))])],1)],1)}))],2)],1):t._e()],1)])])])}),u=[],h=(n("d81d"),n("e434")),f={filter_cross_and_expiry:function(t,e){return h["a"].get("/nlp/cross_and_expiry/".concat(t,"/").concat(e))},filter_mat_group:function(t,e,n){return h["a"].get("/nlp/mat_group/".concat(t,"/").concat(e,"/").concat(n))},filter_smile:function(t,e){return h["a"].get("/nlp/smile/".concat(t,"/").concat(e))},get_summary:function(t){return h["a"].get("/nlp/summary/".concat(t))},get_full_chat:function(t){return h["a"].get("/nlp/full_chat/".concat(t))},get_chat_dates:function(){return h["a"].get("/nlp/chat_dates")}},m=n("cd71"),p=n("2f62"),g={components:{ModalNoButton:m["a"]},props:{showSideControl:{type:Boolean},recentCrosses:{type:Array}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getApiData();case 2:t.alert_config();case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{filterHeaders:["ALL","SHORT DATES","MID DATES","LONG DATES","SMILE"],loaded:!1,chat_dates:[],date_str_toggle:!1,config:{date_str:"",view:"SUMMARY",filter:"ALL"}}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({crosses:function(t){return t.crossList},window:function(t){return t.window}})),{},{sidebarHeight:function(){return this.window.height-150}}),methods:{dev:function(){},getApiData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get_chat_dates();case 3:n=e.sent,t.chat_dates=n.data.map((function(t){return t.DATES})),t.config.date_str=t.chat_dates[0],t.loaded=!0,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},setDateStr:function(t){this.config.date_str=t,this.config.view="SUMMARY",this.alert_config()},setFilter:function(t){this.config.filter=t,this.config.view="NLP",this.alert_config()},setRecentlyUsedCross:function(t){this.config.selectedCross=t,this.config.view="NLP",this.config.filter="ALL",this.alert_config()},selectSearchView:function(){this.$emit("toggle_search_view")},selectSummaryView:function(){this.config.view="SUMMARY",this.alert_config()},alert_config:function(){this.$emit("alert_config",this.config)},handleWindowResize:function(){document.documentElement.style.setProperty("--main-width","".concat(this.window.width,"px")),document.documentElement.style.setProperty("--main-height","".concat(this.window.height,"px")),document.documentElement.style.setProperty("--nlp_sidebar-height","".concat(this.window.height,"px"))}},watch:{window:function(){this.handleWindowResize()}}},_=g,v=(n("e8e4"),n("2877")),w=n("6544"),b=n.n(w),x=n("8336"),S=n("b0af"),C=n("132d"),R=n("8860"),y=n("da13"),O=n("1800"),D=n("5d23"),k=n("e0c7"),E=Object(v["a"])(_,d,u,!1,null,null,null),A=E.exports;b()(E,{VBtn:x["a"],VCard:S["a"],VIcon:C["a"],VList:R["a"],VListItem:y["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemTitle:D["c"],VSubheader:k["a"]});var j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("div",[n("DataTable",{key:t.componentKey,staticClass:"ml-1",attrs:{apidata:t.data_table_data,headerData:t.cross+" - "+t.filter},on:{emit_selected_raw_text:t.setSelectedRawText}})],1):n("div",[n("h4",{staticClass:"font-weight-medium text-center blue--text text--darken-3 ml-1"},[t._v(" "+t._s(t.no_data_message)+" ")])])])},T=[],L=(n("ac1f"),n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"spreadsheet",staticClass:"jTable"})}),M=[],H=(n("4160"),n("b64b"),n("07ac"),n("159b"),n("0179")),V=n.n(H),I=n("ee67"),F=n("d4ec"),N=n("bee2"),B=function(){function t(e,n,a,r){Object(F["a"])(this,t),this.table=e,this.isUserEditableCell=n,this.x1=a,this.y1=r}return Object(N["a"])(t,[{key:"activateUserEditableClasses",value:function(){this.resetCellClasses(),this.isUserEditableCell&&this.addClassUserEditCell()}},{key:"resetCellClasses",value:function(){var t=document.getElementsByClassName("userEditCell");while(t.length)t[0].classList.remove("userEditCell");while(t.length)t[0].classList.add("readonly")}},{key:"addClassUserEditCell",value:function(){for(var t=0;t<this.table.headers.length;t++){var e=this.getCell(t,this.y1,this.table);e.classList.add("userEditCell")}}},{key:"getCell",value:function(t,e,n){var a=V.a.getColumnNameFromId([t,e]),r=n.getCell([a]);return r}}]),t}(),U={name:"SingelBrokerNlpDataTable",created:function(){},data:function(){return{alphabet:I.alphabet,activeRow:0}},props:{apidata:{type:Array},headerData:{type:String}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({window:function(t){return t.window}})),{},{tableHeaders:function(){return Object.keys(this.apidata[0])},tableData:function(){var t=[];return this.apidata.forEach((function(e){t.push(Object.values(e))})),t.push([]),t},selectedRawText:function(){return this.jExcelObj.getValueFromCoords(this.tableHeaders.indexOf("RAW_TEXT"),this.activeRow)},config:function(){return{data:this.tableData,colHeaders:this.tableHeaders,tableOverflow:!0,tableHeight:"".concat(this.window.height,"px"),tableWidth:"".concat(this.window.width-350,"px"),columnSorting:!1,colWidths:[90,100,70,150,100,90,150,100,70,600],allowInsertRow:!1,columns:this.setReadOnly(),contextMenu:function(t,e,n,a){},onselection:this.selectionActive,nestedHeaders:[[{title:this.headerData,colspan:this.tableHeaders.length}]]}}}),methods:{cellId:function(t,e){return"".concat(this.alphabet[t].toUpperCase()).concat(e)},setReadOnly:function(){for(var t=[],e=0;e<this.tableHeaders.length-1;e++)t.push({readOnly:!0,align:"center"});return t.push({readOnly:!0,align:"left"}),t},selectionActive:function(t,e,n,a,r,i){this.activeRow=n,this.$emit("emit_selected_raw_text",this.selectedRawText);var s=new B(this.jExcelObj,!0,e,n);s.activateUserEditableClasses()},FormatTable:function(t,e){e.hideIndex();for(var n=1;n<=e.rows.length;n++)for(var a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,n),"color","black");for(var r=this.tableHeaders.indexOf("EXPIRY"),i=1;i<=t.length;i++)e.setStyle(this.cellId(r,i),"background-color","#D2DEE9"),e.setStyle(this.cellId(r,i),"font-weight","bold"),e.setStyle(this.cellId(r,i),"color","#385F73");for(a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,e.rows.length),"background-color","red")}},mounted:function(){var t=V()(this.$refs.spreadsheet,this.config);this.FormatTable(this.apidata,t),Object.assign(this,{jExcelObj:t})}},$=U,P=(n("8677"),Object(v["a"])($,L,M,!1,null,null,null)),K=P.exports,Y={name:"singleBrokerNlp",components:{DataTable:K},props:{cross:{type:String},filter:{type:String},date_str:{type:Array}},data:function(){return{apiData:[],loaded:!1,componentKey:0,no_data_message:""}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.handleApiRequest();case 2:case"end":return e.stop()}}),e)})))()},computed:{data_table_data:function(){return this.apiData}},methods:{setSelectedRawText:function(t){this.$emit("emit_selected_raw_text",t)},handleApiRequest:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ALL"!=t.filter){e.next=5;break}return e.next=3,t.filterForAllData();case 3:e.next=12;break;case 5:if("SMILE"!=t.filter){e.next=10;break}return e.next=8,t.filterSmile();case 8:e.next=12;break;case 10:return e.next=12,t.filterMatGroup();case 12:case"end":return e.stop()}}),e)})))()},filterForAllData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_cross_and_expiry(t.cross,t.date_str);case 3:n=e.sent,t.updateDataTable(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},filterMatGroup:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_mat_group(t.cross,t.date_str,t.formatFilter());case 3:n=e.sent,t.updateDataTable(n.data),console.log(n.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},filterSmile:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_smile(t.cross,t.date_str);case 3:n=e.sent,t.updateDataTable(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateDataTable:function(t){this.no_data_message="",this.apiData=t,this.$emit("alert_child_data_loaded",!0),this.apiData.length>0?(this.loaded=!0,this.componentKey+=1):(this.loaded=!1,this.no_data_message="NO DATA RETURNED FOR ".concat(this.filter," FILTER "))},formatFilter:function(){var t=this.filter.split(" "),e="";return e=2==t.length?"".concat(t[0],"_").concat(t[1]):this.filter,e}},watch:{}},G=Y,W=Object(v["a"])(G,j,T,!1,null,null,null),X=W.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("v-container",[n("v-row",{attrs:{"no-gutters":""}},t._l(t.apiData,(function(e){return n("v-col",{key:e.CROSS,attrs:{cols:"12",lg:"2",md:"3"}},[n("v-card",{staticClass:"ma-3",attrs:{outlined:"",elevation:"6","max-width":"200",color:"#385F73"},on:{click:function(n){return t.select_cross(e)}}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"subtitle-1 mb-1 font-weight-light green--text text--lighten-3"},[t._v(" "+t._s(e.CROSS)+" ")]),n("v-list-item-subtitle",{staticClass:"font-weight-light white--text"},[t._v(t._s(e.COUNT))])],1)],1)],1)],1)})),1)],1):t._e()],1)},z=[],J={name:"brokerChatSummary",components:{},props:{date_str:{type:Array}},data:function(){return{apiData:[],loaded:!1}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getApiData();case 2:case"end":return e.stop()}}),e)})))()},computed:{},methods:{select_cross:function(t){this.$emit("cross_selected",t.CROSS)},getApiData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get_summary(t.date_str);case 3:n=e.sent,t.apiData=n.data,t.loaded=!0,t.$emit("alert_child_data_loaded",!0),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},watch:{}},Q=J,Z=n("62ad"),tt=n("a523"),et=n("0fd9"),nt=Object(v["a"])(Q,q,z,!1,null,null,null),at=nt.exports;b()(nt,{VCard:S["a"],VCol:Z["a"],VContainer:tt["a"],VListItem:y["a"],VListItemContent:D["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"],VRow:et["a"]});var rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("div",[n("ChatSearchTable",{key:t.componentKey,staticClass:"ml-1",attrs:{apidata:t.data_table_data,headerData:t.selectedCross+" - SEARCH",selectedRow:t.sentence_index_on_chat_slice}})],1):t._e()])},it=[],st=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"spreadsheet",staticClass:"jTable"})}),ct=[],ot=(n("a9e3"),{name:"JExcelTable",created:function(){},data:function(){return{alphabet:I.alphabet}},props:{apidata:{type:Array},headerData:{type:String},selectedRow:{type:Number}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({window:function(t){return t.window}})),{},{tableHeaders:function(){return Object.keys(this.apidata[0])},tableData:function(){var t=[];return this.apidata.forEach((function(e){t.push(Object.values(e))})),t.push([]),t},config:function(){return{data:this.tableData,colHeaders:this.tableHeaders,tableOverflow:!0,tableHeight:"".concat(this.window.height,"px"),tableWidth:"".concat(this.window.width-350,"px"),columnSorting:!1,colWidths:[900],allowInsertRow:!1,columns:this.setReadOnly(),contextMenu:function(t,e,n,a){},onselection:this.selectionActive,nestedHeaders:[[{title:this.headerData,colspan:this.tableHeaders.length}]]}}}),methods:{cellId:function(t,e){return"".concat(this.alphabet[t].toUpperCase()).concat(e)},setReadOnly:function(){for(var t=[],e=0;e<this.tableHeaders.length-1;e++)t.push({readOnly:!0,align:"center"});return t.push({readOnly:!0,align:"left"}),t},selectionActive:function(t,e,n,a,r,i){var s=new B(this.jExcelObj,!0,e,n);s.activateUserEditableClasses()},FormatTable:function(t,e){e.hideIndex();for(var n=1;n<=e.rows.length;n++)for(var a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,n),"color","black");for(a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,e.rows.length),"background-color","red")}},mounted:function(){var t=V()(this.$refs.spreadsheet,this.config);this.FormatTable(this.apidata,t),Object.assign(this,{jExcelObj:t}),this.jExcelObj.updateSelectionFromCoords(0,this.selectedRow,0,this.selectedRow)}}),lt=ot,dt=(n("6200"),Object(v["a"])(lt,st,ct,!1,null,null,null)),ut=dt.exports,ht={name:"brokerChatNlp",components:{ChatSearchTable:ut},props:{date_str:{type:String},searchSentence:{type:String},selectedCross:{type:String}},data:function(){return{apiData:[],loaded:!1,componentKey:0,sentence_index_on_full_chat_data:0}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getApiData();case 2:t.sentence_index_on_full_chat_data=t.apiData.map((function(t){return t.sentences})).indexOf(t.searchSentence),t.loaded=!0;case 4:case"end":return e.stop()}}),e)})))()},computed:{data_table_data:function(){return this.apiData.slice(this.sentence_index_on_full_chat_data-5,this.sentence_index_on_full_chat_data+50)},sentence_index_on_chat_slice:function(){return this.data_table_data.map((function(t){return t.sentences})).indexOf(this.searchSentence)}},methods:{dev:function(){console.log(this.data_table_data)},getApiData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get_full_chat(t.date_str);case 3:n=e.sent,t.apiData=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},ft=ht,mt=Object(v["a"])(ft,rt,it,!1,null,null,null),pt=mt.exports,gt={name:"SingleBrokerNlpMain",components:{SideBar:A,SingleBrokerNlpModel:X,BrokerChatSummary:at,ChatSearchController:pt},data:function(){return{config:{date_str:"",view:"",filter:"",selectedCross:this.$store.getters.activeCrossGetter},recentCrosses:[this.$store.getters.activeCrossGetter],componentKey:0,childDataLoaded:!1,searchSentence:""}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({crosses:function(t){return t.crossList}})),{},{date_str_arr:function(){return[this.config.date_str]}}),methods:{updateConfigFromSummary:function(t){this.childDataLoaded=!1,this.config.selectedCross=t,this.crosses.indexOf(t)>-1&&this.$store.dispatch("setActivecross",t),this.config.filter="ALL",this.config.view="NLP",-1===this.recentCrosses.indexOf(t)&&this.recentCrosses.push(t),this.componentKey+=1},updateConfigFromSideBar:function(t){this.childDataLoaded=!1,Object.assign(this.config,t),this.searchSentence="",this.componentKey+=1},toggleSearchView:function(){"SUMMARY"!==this.config.view&&(""!==this.searchSentence?"SEARCH"!==this.config.view?this.config.view="SEARCH":this.config.view="NLP":alert("SELECT TEXT TO SEARCH"))},setChildDataStatus:function(t){this.childDataLoaded=!0},setSelectedRawText:function(t){this.searchSentence=t}},watch:{"config.selectedCross":function(t){this.$emit("cross_changed",t)}}},_t=gt,vt=(n("efc1"),n("8e36")),wt=Object(v["a"])(_t,o,l,!1,null,null,null),bt=wt.exports;b()(wt,{VContainer:tt["a"],VProgressLinear:vt["a"]});var xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{staticClass:"center"},[t.childDataLoaded?t._e():n("v-progress-linear",{attrs:{indeterminate:""}})],1),n("div",{staticClass:"d-flex flex-row"},[n("SideBar",{attrs:{showSideControl:!0,recentCrosses:t.recentCrosses},on:{alert_config:t.updateConfigFromSideBar,toggle_search_view:t.toggleSearchView}}),""===t.config.view?n("div",[n("h4",{staticClass:"font-weight-medium text-center blue--text text--darken-3 ml-1"},[t._v(" SELECT DATES FOR RANGE AND HIT RUN BATCH ")])]):t._e(),"NLP"===t.config.view?n("RangeBrokerNlpModel",{key:t.componentKey,attrs:{cross:t.config.selectedCross,filter:t.config.filter,date_str:t.date_str_arr},on:{alert_child_data_loaded:t.setChildDataStatus,emit_selected_raw_text:t.setSelectedRawText}}):t._e(),"SUMMARY"===t.config.view?n("BrokerChatSummary",{key:t.componentKey,attrs:{date_str:t.date_str_arr},on:{alert_child_data_loaded:t.setChildDataStatus,cross_selected:t.updateConfigFromSummary}}):t._e(),"SEARCH"===t.config.view?n("ChatSearchController",{attrs:{date_str:t.searchSentenceDate,searchSentence:t.searchSentence,selectedCross:t.config.selectedCross}}):t._e()],1)],1)},St=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"d-flex flex-row"},[n("div",{staticClass:"d-flex flex-column nlp_sidebar mr-1"},[t.showSideControl?n("v-card",{attrs:{"min-width":"225",height:t.window.height,color:"blue lighten-3"}},[n("v-list",{attrs:{dense:"",color:"blue lighten-3"}},[n("v-subheader",[t._v("Model Dates ")]),n("v-list-item",{on:{click:function(e){t.date_str_toggle=!t.date_str_toggle}}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"#385F73"}},[t._v("mdi-calendar-sync")])],1),n("ModalNoButton",{attrs:{inputData:t.chat_dates,title:"SELECT DATE",vmodel:t.date_str_toggle},on:{setvmodel:function(e){return t.date_str_toggle=e},selection:t.setDateStr}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.config.date_str.toUpperCase()))])],1)],1),n("v-list-item",{on:{click:function(e){t.date_str_toggle_2=!t.date_str_toggle_2}}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"#385F73"}},[t._v("mdi-subdirectory-arrow-right")])],1),n("ModalNoButton",{attrs:{inputData:t.chat_dates,title:"SELECT DATE",vmodel:t.date_str_toggle_2},on:{setvmodel:function(e){return t.date_str_toggle_2=e},selection:t.setDateStr2}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.config.date_str2.toUpperCase()))])],1)],1),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){return t.runRangeDates()}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"red darken-3"}},[t._v("mdi-play")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("RUN BATCH")])],1)],1),n("v-subheader",[t._v("Actions ")]),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){return t.selectSummaryView()}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"blue darken-3"}},[t._v("mdi-dots-triangle")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SUMMARY")])],1)],1),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){return t.selectSearchView()}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"blue darken-3"}},[t._v("mdi-file-search-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SEARCH TEXT")])],1)],1),n("v-subheader",[t._v("Filters")]),t._l(this.filterHeaders,(function(e){return n("v-list-item",{key:e,attrs:{ripple:""},on:{click:function(n){return t.setFilter(e)}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"green darken-3"}},[t._v("mdi-dots-hexagon")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e))])],1)],1)})),n("v-subheader",[t._v("Recently Used")]),t._l(this.recentCrosses,(function(e){return n("v-list-item",{key:e,attrs:{ripple:""},on:{click:function(n){return t.setRecentlyUsedCross(e)}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:"green darken-3"}},[t._v("mdi-dots-square")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e))])],1)],1)}))],2)],1):t._e()],1)])])])},Rt=[],yt={components:{ModalNoButton:m["a"]},props:{showSideControl:{type:Boolean},recentCrosses:{type:Array}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getApiData();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{filterHeaders:["ALL","SHORT DATES","MID DATES","LONG DATES","SMILE"],loaded:!1,chat_dates:[],date_str_toggle:!1,date_str_toggle_2:!1,config:{date_str:"",date_str2:"",view:"SUMMARY",filter:"ALL"}}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({crosses:function(t){return t.crossList},window:function(t){return t.window}})),{},{sidebarHeight:function(){return this.window.height-150}}),methods:{dev:function(){},getApiData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get_chat_dates();case 3:n=e.sent,t.chat_dates=n.data.map((function(t){return t.DATES})),t.config.date_str=t.chat_dates[0],t.config.date_str2=t.chat_dates[1],t.loaded=!0,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},setDateStr:function(t){this.config.date_str=t,this.config.view="SUMMARY"},setDateStr2:function(t){this.config.date_str2=t,this.config.view="SUMMARY"},runRangeDates:function(){this.alert_config()},setFilter:function(t){this.config.filter=t,this.config.view="NLP",this.alert_config()},setRecentlyUsedCross:function(t){this.config.selectedCross=t,this.config.view="NLP",this.config.filter="ALL",this.alert_config()},selectSearchView:function(){this.$emit("toggle_search_view")},selectSummaryView:function(){this.config.view="SUMMARY",this.alert_config()},alert_config:function(){this.$emit("alert_config",this.config)},handleWindowResize:function(){document.documentElement.style.setProperty("--main-width","".concat(this.window.width,"px")),document.documentElement.style.setProperty("--main-height","".concat(this.window.height,"px")),document.documentElement.style.setProperty("--nlp_sidebar-height","".concat(this.window.height,"px"))}},watch:{window:function(){this.handleWindowResize()}}},Ot=yt,Dt=(n("4d2e"),Object(v["a"])(Ot,Ct,Rt,!1,null,null,null)),kt=Dt.exports;b()(Dt,{VBtn:x["a"],VCard:S["a"],VIcon:C["a"],VList:R["a"],VListItem:y["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemTitle:D["c"],VSubheader:k["a"]});var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loaded?n("div",[n("DataTable",{key:t.componentKey,staticClass:"ml-1",attrs:{apidata:t.data_table_data,headerData:t.cross+" - "+t.filter},on:{emit_selected_raw_text:t.setSelectedRawText}})],1):n("div",[n("h4",{staticClass:"font-weight-medium text-center blue--text text--darken-3 ml-1"},[t._v(" "+t._s(t.no_data_message)+" ")])])])},At=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"spreadsheet",staticClass:"jTable"})},Tt=[],Lt={name:"SingelBrokerNlpDataTable",created:function(){},data:function(){return{alphabet:I.alphabet,activeRow:0}},props:{apidata:{type:Array},headerData:{type:String}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({window:function(t){return t.window}})),{},{tableHeaders:function(){return Object.keys(this.apidata[0])},tableData:function(){var t=[];return this.apidata.forEach((function(e){t.push(Object.values(e))})),t.push([]),t},selectedRawText:function(){return this.jExcelObj.getValueFromCoords(this.tableHeaders.indexOf("RAW_TEXT"),this.activeRow)},selectedTextDate:function(){return this.jExcelObj.getValueFromCoords(this.tableHeaders.indexOf("TEXT_DATE"),this.activeRow)},config:function(){return{data:this.tableData,colHeaders:this.tableHeaders,tableOverflow:!0,tableHeight:"".concat(this.window.height,"px"),tableWidth:"".concat(this.window.width-350,"px"),columnSorting:!1,colWidths:[90,100,70,150,100,90,150,100,70,100,600],allowInsertRow:!1,columns:this.setReadOnly(),contextMenu:function(t,e,n,a){},onselection:this.selectionActive,nestedHeaders:[[{title:this.headerData,colspan:this.tableHeaders.length}]]}}}),methods:{cellId:function(t,e){return"".concat(this.alphabet[t].toUpperCase()).concat(e)},setReadOnly:function(){for(var t=[],e=0;e<this.tableHeaders.length-1;e++)t.push({readOnly:!0,align:"center"});return t.push({readOnly:!0,align:"left"}),t},selectionActive:function(t,e,n,a,r,i){this.activeRow=n,this.$emit("emit_selected_raw_text",{text:this.selectedRawText,date:this.selectedTextDate});var s=new B(this.jExcelObj,!0,e,n);s.activateUserEditableClasses()},FormatTable:function(t,e){e.hideIndex();for(var n=1;n<=e.rows.length;n++)for(var a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,n),"color","black");for(var r=this.tableHeaders.indexOf("EXPIRY"),i=1;i<=t.length;i++)e.setStyle(this.cellId(r,i),"background-color","#D2DEE9"),e.setStyle(this.cellId(r,i),"font-weight","bold"),e.setStyle(this.cellId(r,i),"color","#385F73");for(a=0;a<e.headers.length;a++)e.setStyle(this.cellId(a,e.rows.length),"background-color","red")}},mounted:function(){var t=V()(this.$refs.spreadsheet,this.config);this.FormatTable(this.apidata,t),Object.assign(this,{jExcelObj:t})}},Mt=Lt,Ht=(n("7905"),Object(v["a"])(Mt,jt,Tt,!1,null,null,null)),Vt=Ht.exports,It={name:"rangeBrokerNlp",components:{DataTable:Vt},props:{cross:{type:String},filter:{type:String},date_str:{type:Array}},data:function(){return{apiData:[],loaded:!1,componentKey:0,no_data_message:""}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.handleApiRequest();case 2:case"end":return e.stop()}}),e)})))()},computed:{data_table_data:function(){return this.apiData}},methods:{setSelectedRawText:function(t){this.$emit("emit_selected_raw_text",t)},handleApiRequest:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ALL"!=t.filter){e.next=5;break}return e.next=3,t.filterForAllData();case 3:e.next=12;break;case 5:if("SMILE"!=t.filter){e.next=10;break}return e.next=8,t.filterSmile();case 8:e.next=12;break;case 10:return e.next=12,t.filterMatGroup();case 12:case"end":return e.stop()}}),e)})))()},filterForAllData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_cross_and_expiry(t.cross,t.date_str);case 3:n=e.sent,t.updateDataTable(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},filterMatGroup:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_mat_group(t.cross,t.date_str,t.formatFilter());case 3:n=e.sent,t.updateDataTable(n.data),console.log(n.data.length),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},filterSmile:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.filter_smile(t.cross,t.date_str);case 3:n=e.sent,t.updateDataTable(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateDataTable:function(t){this.no_data_message="",this.apiData=t,this.$emit("alert_child_data_loaded",!0),this.apiData.length>0?(this.loaded=!0,this.componentKey+=1):(this.loaded=!1,this.no_data_message="NO DATA RETURNED FOR ".concat(this.filter," FILTER "))},formatFilter:function(){var t=this.filter.split(" "),e="";return e=2==t.length?"".concat(t[0],"_").concat(t[1]):this.filter,e}},watch:{}},Ft=It,Nt=Object(v["a"])(Ft,Et,At,!1,null,null,null),Bt=Nt.exports,Ut={name:"RangeBrokerNlpMain",components:{SideBar:kt,RangeBrokerNlpModel:Bt,BrokerChatSummary:at,ChatSearchController:pt},data:function(){return{config:{date_str:"",date_str2:"",view:"",filter:"",selectedCross:this.$store.getters.activeCrossGetter},recentCrosses:[this.$store.getters.activeCrossGetter],componentKey:0,childDataLoaded:!0,searchSentence:"",searchSentenceDate:""}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({crosses:function(t){return t.crossList}})),{},{date_str_arr:function(){return[this.config.date_str,this.config.date_str2]}}),methods:{updateConfigFromSummary:function(t){this.childDataLoaded=!1,this.config.selectedCross=t,this.crosses.indexOf(t)>-1&&this.$store.dispatch("setActivecross",t),this.config.filter="ALL",this.config.view="NLP",-1===this.recentCrosses.indexOf(t)&&this.recentCrosses.push(t),this.componentKey+=1},updateConfigFromSideBar:function(t){this.childDataLoaded=!1,Object.assign(this.config,t),this.searchSentence="",this.componentKey+=1},toggleSearchView:function(){"SUMMARY"!==this.config.view&&(""!==this.searchSentence?"SEARCH"!==this.config.view?this.config.view="SEARCH":this.config.view="NLP":alert("SELECT TEXT TO SEARCH"))},setChildDataStatus:function(t){this.childDataLoaded=!0},setSelectedRawText:function(t){this.searchSentence=t.text,this.searchSentenceDate=this.formatDateStr(t.date)},formatDateStr:function(t){var e=t.split("-");return"".concat(e[0],"_").concat(e[1].toLowerCase(),"_").concat(e[2])}},watch:{"config.selectedCross":function(t){this.$emit("cross_changed",t)}}},$t=Ut,Pt=(n("e954"),Object(v["a"])($t,xt,St,!1,null,null,null)),Kt=Pt.exports;b()(Pt,{VContainer:tt["a"],VProgressLinear:vt["a"]});var Yt={components:{PopUpModal:c["a"],SingleBrokerNlpMain:bt,RangeBrokerNlp:Kt},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("refreshCrossList");case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{isRange:!1,componentKey:0,selectedCross:this.$store.getters.activeCrossGetter}},computed:Object(i["a"])(Object(i["a"])({},Object(p["b"])({crosses:function(t){return t.crossList}})),{},{currentView:function(){return this.isRange?"Range View":"SINGLE VIEW"},pageHeader:function(){return"".concat(this.selectedCross," ").concat(this.currentView)}}),methods:{dev:function(){},setCrossHeader:function(t){this.selectedCross=t}}},Gt=Yt,Wt=n("2fa4"),Xt=n("b73d"),qt=n("71d9"),zt=Object(v["a"])(Gt,a,r,!1,null,null,null);e["default"]=zt.exports;b()(zt,{VSpacer:Wt["a"],VSwitch:Xt["a"],VToolbar:qt["a"]})},e8e4:function(t,e,n){"use strict";n("b69b")},e954:function(t,e,n){"use strict";n("bb9d")},efc1:function(t,e,n){"use strict";n("2fe7")}}]);
//# sourceMappingURL=chunk-49391452.6f6449af.js.map