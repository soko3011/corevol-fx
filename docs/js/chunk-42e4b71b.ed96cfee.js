(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42e4b71b"],{7252:function(t,e,n){"use strict";var a=n("bc3a"),s=n.n(a),i="https://dayweightservice-swfmuuo65q-nw.a.run.app",c="".concat(i,"/api/"),r=s.a.create({baseURL:c});r.interceptors.request.use((function(t){var e=void 0!==window.localStorage.token?JSON.parse(window.localStorage.token):null;return t.headers={Authorization:"Bearer ".concat(e)},t}));var o=r;e["a"]={getAvailableCurr:function(){return o.get("ProductionEvents/GetAvailableCurr")},getEvents:function(t){return o.post("ProductionEvents/GetEvents",t)},buildProductionList:function(t){return o.post("ProductionEvents/BuildProductionList",t)},saveDataToDB:function(t){return o.post("ProductionEvents/SaveDataToDB",t)},refreshEventsFromApi:function(){return o.get("RawEvents/UpdateRawEvents/BabyPipsDotCom")}}},"9e6b":function(t,e,n){},dc8f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.cssVars},[n("div",{staticClass:"d-flex flex-row mb-5 flex-nowrap"},[n("v-toolbar",{attrs:{color:"#385F73","min-width":"400",collapse:""}},[n("v-spacer"),n("div",{staticClass:"d-flex flex-column"},[n("h4",{staticClass:"\n            font-weight-medium\n            text-center text-uppercase\n            grey--text\n            text--lighten-3\n          "},[t._v(" corevolFX DAY WEIGHT SETTINGS "),n("v-btn",{staticClass:"mb-4",attrs:{icon:"","x-small":""}},[n("PopUpModal",{attrs:{inputData:t.availableCurrencies,icon:"mdi-dots-hexagon",color:"green lighten-3",small:!0,title:"Select Ccy"},on:{selection:t.changeCcy}})],1)],1),n("h4",{staticClass:"\n            font-weight-light\n            text-center text-uppercase\n            green--text\n            text--lighten-3\n          ",attrs:{align:"center",justify:"center"}},[t._v(" "+t._s(t.currentCcy)+" ")])]),n("v-spacer")],1)],1),n("div",{staticClass:"d-flex flex-row flex-nowrap"},[n("v-card",{staticClass:"d-flex flex-column dwCol mr-3",attrs:{"min-width":"225"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"blue"}},[n("v-subheader",[t._v("SELECT")]),n("v-list-item",{on:{click:function(e){t.currListToggle=!t.currListToggle}}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"#385F73"}},[t._v("mdi-expand-all")])],1),n("ModalNoButton",{attrs:{inputData:t.availableCurrencies,title:"Select Ccy",vmodel:t.currListToggle},on:{setvmodel:function(e){return t.currListToggle=e},selection:t.changeCcy}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SELECT CURRENCY")])],1)],1),n("v-subheader",[t._v("EVENTS")]),n("v-list-item",{on:{click:function(e){t.dialog=!t.dialog}}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"#126496"}},[t._v("mdi-calendar-star")])],1)],1),n("v-list-item-content",[n("v-list-item-title",[t._v("AVAILABLE EVENTS")])],1)],1),n("v-subheader",[t._v("BUILD")]),n("v-list-item",{on:{click:t.buildProductionList}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"yellow darken-3"}},[t._v("mdi-lightning-bolt-outline")])],1)],1),n("v-list-item-content",[n("v-list-item-title",[t._v("BUILD PRODUCTION LIST")])],1)],1),n("v-subheader",[t._v("SAVE")]),n("v-list-item",{on:{click:t.saveEventsToDB}},[n("v-list-item-action",[n("v-btn",{attrs:{ripple:"",small:"",icon:""}},[n("v-icon",{attrs:{color:"green lighten-3"}},[t._v("mdi-content-save")])],1)],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SAVE EVENTS TO DB")])],1)],1)],1)],1)],1),n("div",{staticClass:"dwContainer"},[n("div",{ref:"selectedEventsByCcyTable"}),n("div",{ref:"productionListTable"})]),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{"max-width":"410"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("div",{ref:"eventsByCcyTable"})])],1)],1)])},s=[],i=(n("99af"),n("4de4"),n("4160"),n("caad"),n("d81d"),n("45fc"),n("2532"),n("159b"),n("96cf"),n("1da1")),c=n("5530"),r=n("0179"),o=n.n(r),l=n("5053"),u=n("7252"),d=n("4a4a"),v={eventWeightsUpdated:function(t){return d["b"].post("EventWeightsUpdated",t)}},y=n("0cd9"),p=n("cd71"),h=n("c1df"),f=n.n(h),E=n("2f62"),m={name:"DayWgtSetup",components:{PopUpModal:y["a"],ModalNoButton:p["a"]},created:function(){var t=this;u["a"].getAvailableCurr().then((function(e){t.availableCurrencies=JSON.parse(e.data.availableCurrencies)}))},data:function(){return{currListToggle:!1,availableCurrencies:[],currentCcy:"SELECT CCY",selectedEventsByCcy:[],productionList:[],eventsByCcy:[],dialog:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(E["b"])({window:function(t){return t.window}})),{},{cssVars:function(){return{"--main-width":"".concat(this.window.width-100,"px"),"--main-height":"".concat(this.window.height+90,"px"),"--dwCol-height":"".concat(this.window.height-20,"px")}},configEventsByCcy:function(){return{data:this.eventsByCcy,columnSorting:!1,onchange:this.onChangeByCcyEvents,tableOverflow:!1,allowInsertRow:!1,contextMenu:function(t,e,n,a){},columns:[{type:"checkbox",title:"IncludeEvent",width:90},{type:"text",title:"EventName",width:320}],nestedHeaders:[[{title:"AVAILABLE EVENTS",colspan:2}]]}},configSelectedEventsByCcy:function(){return{data:this.selectedEventsByCcy,columnSorting:!1,onchange:this.onChangeSelectedEventsByCcy,tableOverflow:!1,allowInsertRow:!1,contextMenu:function(t,e,n,a){},columns:[{type:"checkbox",title:"IncludeEvent",width:90},{type:"text",title:"EventName",width:310},{type:"text",title:"EventWgt",width:90}],nestedHeaders:[[{title:"SELECTED EVENTS",colspan:3}]]}},configProductionList:function(){return{data:this.formattedProductionList,columnSorting:!1,tableOverflow:!1,allowInsertRow:!1,contextMenu:function(t,e,n,a){},columns:[{type:"text",title:"Event",width:175},{type:"text",title:"Date",width:175},{type:"text",title:"DayWgt",width:75},{type:"text",title:"Time",width:100}],nestedHeaders:[[{title:"PRODUCTION LIST",colspan:4}]]}},formattedProductionList:function(){return this.productionList.map((function(t){return t.Date=f()(t.Date).format("DD-MMM-YYYY"),t}))}}),methods:{dev:function(){},getEvents:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u["a"].getEvents({Ccy:t});case 3:a=n.sent,e.eventsByCcy=JSON.parse(a.data.eventsByCcy),e.selectedEventsByCcy=JSON.parse(a.data.selectedEvents),e.productionList=JSON.parse(a.data.productionList),e.currentCcy=t,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),alert(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},changeCcy:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getEvents(t);case 2:null===e.selectedEventsByCcy&&(e.selectedEventsByCcy=[]),null===e.productionList&&(e.productionList=[]),e.updateEventsByCcyWithSelectedEvents(),e.selectedEventsByCcyTable.setData(e.selectedEventsByCcy),e.productionListTable.setData(e.formattedProductionList);case 7:case"end":return n.stop()}}),n)})))()},buildProductionList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.selectedEventsByCcy.length){e.next=3;break}return t.$store.dispatch("setSnackbar",{text:" Select Events Before Building List",top:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,u["a"].buildProductionList({Ccy:t.currentCcy,EventNames:t.selectedEventsByCcy.map((function(t){return t.EventName}))});case 6:n=e.sent,a=JSON.parse(n.data.selectedEvents),t.productionList=[],a.forEach((function(e){var n=t.selectedEventsByCcy.filter((function(t){return t.EventName===e.Title}))[0].EventWgt;e.Time.includes(":")||(e.Time="00:00"),t.productionList.push({Event:e.Title,Date:f()(e.Date).format("DD-MMM-YYYY"),DayWgt:n,Time:e.Time})})),t.productionListTable.setData(l["a"](t.productionList)),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))()},onChangeByCcyEvents:function(t,e,n,a){var s=n,i=a;if("0"===s){var c={EventName:this.eventsByCcyTable.getValueFromCoords(parseInt(1),parseInt(i)),EventWgt:1,IncludeEvent:!0},r=this.selectedEventsByCcy.some((function(t){return t.EventName===c.EventName}));r?this.selectedEventsByCcy=this.selectedEventsByCcy.filter((function(t){return t.EventName!=c.EventName})):this.selectedEventsByCcy.push(c),this.selectedEventsByCcyTable.setData(this.selectedEventsByCcy)}},onChangeSelectedEventsByCcy:function(t,e,n,a){var s=n,i=a;if("0"===s){var c=this.selectedEventsByCcyTable.getValueFromCoords(parseInt(1),parseInt(i)),r=this.selectedEventsByCcyTable.getValueFromCoords(parseInt(0),parseInt(i));r||(this.selectedEventsByCcy=this.selectedEventsByCcy.filter((function(t){return t.EventName!=c})),this.updateEventsByCcyWithSelectedEvents(),this.selectedEventsByCcyTable.setData(this.selectedEventsByCcy),this.eventsByCcyTable.setData(this.eventsByCcy))}if("2"===s){var o=this.selectedEventsByCcyTable.getValueFromCoords(parseInt(2),parseInt(i));this.selectedEventsByCcy[i].EventWgt=parseFloat(o)}},saveEventsToDB:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n={ccy:t.currentCcy,selectedEvents:JSON.stringify(t.selectedEventsByCcy),productionList:JSON.stringify(t.productionList)},e.next=4,u["a"].saveDataToDB(n);case 4:return e.next=6,v.eventWeightsUpdated(n);case 6:t.$store.dispatch("setSnackbar",{text:"Database Upadated With ".concat(t.currentCcy," Events List "),centered:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$store.dispatch("setSnackbar",{text:"".concat(t.currentCcy," events: ").concat(e.t0," "),centered:!0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},updateEventsByCcyWithSelectedEvents:function(){var t=this;this.eventsByCcy.forEach((function(e){var n=t.selectedEventsByCcy.some((function(t){return t.EventName===e.EventName}));e.IncludeEvent=!0===n}))}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEvents("USD");case 2:t.updateEventsByCcyWithSelectedEvents(),n=o()(t.$refs["selectedEventsByCcyTable"],t.configSelectedEventsByCcy),n.hideIndex(),Object.assign(t,{selectedEventsByCcyTable:n}),a=o()(t.$refs["productionListTable"],t.configProductionList),a.hideIndex(),Object.assign(t,{productionListTable:a});case 9:case"end":return e.stop()}}),e)})))()},watch:{dialog:function(){var t=this;setTimeout((function(){o.a.destroy(t.$refs["eventsByCcyTable"],!1);var e=o()(t.$refs["eventsByCcyTable"],t.configEventsByCcy);e.hideIndex(),Object.assign(t,{eventsByCcyTable:e})}),500)}}},C=m,g=(n("e766"),n("2877")),b=n("6544"),w=n.n(b),B=n("8336"),x=n("b0af"),T=n("169a"),L=n("132d"),S=n("8860"),D=n("da13"),I=n("1800"),N=n("5d23"),V=n("1baa"),O=n("0fd9"),k=n("2fa4"),R=n("e0c7"),P=n("71d9"),_=Object(g["a"])(C,a,s,!1,null,null,null);e["default"]=_.exports;w()(_,{VBtn:B["a"],VCard:x["a"],VDialog:T["a"],VIcon:L["a"],VList:S["a"],VListItem:D["a"],VListItemAction:I["a"],VListItemContent:N["a"],VListItemGroup:V["a"],VListItemTitle:N["c"],VRow:O["a"],VSpacer:k["a"],VSubheader:R["a"],VToolbar:P["a"]})},e766:function(t,e,n){"use strict";n("9e6b")}}]);
//# sourceMappingURL=chunk-42e4b71b.ed96cfee.js.map