(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a753a4f0"],{"42f4":function(t,e,a){"use strict";var r=a("d5f0"),n=a.n(r);n.a},"7e48":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"overallContainer",attrs:{fluid:""}},[a("div",[a("div",{staticClass:"d-flex flex-row mb-2 flex-nowrap justify-end"},[a("v-menu",{attrs:{"close-on-content-click":!1,bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mt-5 mr-10",attrs:{small:"",fab:"",color:"pink",elevation:"24",dark:""}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-cog-outline")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-card",[a("v-list",t._l(t.surfs,(function(e){return a("v-list-item",{key:e.Cross},[a("v-list-item-action",[a("v-switch",{attrs:{color:"green lighten-2"},model:{value:e.Show,callback:function(a){t.$set(e,"Show",a)},expression:"item.Show"}})],1),a("v-list-item-title",[t._v(t._s(e.Cross))])],1)})),1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveSetup}},[t._v("Save")])],1)],1)],1)],1),a("div",{staticClass:"d-flex flex-row flex-nowrap"},[a("Draggable",{staticClass:"d-flex flex-wrap justify-start",style:t.zoomLevel,attrs:{list:t.surfs},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},t._l(t.activeSurfs,(function(e){return a("v-card",{key:e.Cross,staticClass:"ma-3",attrs:{rounded:"",color:"grey lighten-3",flat:""}},[a("v-toolbar",{staticClass:"mb-0 mr-2",attrs:{dark:"",height:"30",color:"#385F73"}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"text-subtitle-2"},[t._v(t._s(t.getHeader(e)))]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{small:"",color:t.getWarningColor(e)},on:{click:function(a){return t.gotoDvi(e)}}},[t._v("mdi-lightning-bolt")])],1)],1),a("DashBoardSurf",{staticClass:"ma-0",attrs:{apidata:t.singleSurf(e)}}),a("v-system-bar",{staticClass:"mt-n2 mr-1",attrs:{height:"5",color:t.getWarningColor(e)}}),a("h6",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.getFooter(e)))])],1)})),1)],1)])])},n=[],s=(a("4de4"),a("7db0"),a("d81d"),a("5530")),o=a("15fd"),i=a("b85c"),c=(a("96cf"),a("1da1")),u=a("1a20"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"spreadsheet"})},d=[],f=(a("c4fc"),a("0179")),h=a.n(f),v=a("5053"),m={name:"dashboardsuf",created:function(){},data:function(){return{}},props:{apidata:{type:Array}},computed:{config:function(){return{columnSorting:!1,colWidths:[50,50,100,55,55,55,55,55],allowInsertRow:!1}},jExcelOptions:function(){return v["a"](this.apidata,this.config)}},methods:{FormatTable:function(t,e){e.hideIndex();for(var a=0;a<t.length;a++){var r=a+1,n="B"+r,s="D"+r;e.setStyle(s,"background-color","#D2DEE9"),e.setStyle(s,"font-weight","bold"),e.setStyle(n,"color","#000080"),e.setStyle(n,"font-weight","bold"),r>9&&e.setStyle(s,"background-color","#EDFAFD")}}},mounted:function(){var t=h()(this.$refs.spreadsheet,this.jExcelOptions);this.FormatTable(this.apidata,t),Object.assign(this,{jExcelObj:t})},watch:{apidata:function(){this.jExcelObj.setData(v["b"](this.apidata)),this.FormatTable(this.apidata,this.jExcelObj)}}},p=m,w=a("2877"),g=Object(w["a"])(p,l,d,!1,null,null,null),b=g.exports,S=a("c1df"),x=a.n(S),y=a("310e"),_=a.n(y),C=a("5caf"),D={data:function(){return{drag:!1,surfs:[],menu:!1,window:{width:0,height:0}}},components:{DashBoardSurf:b,Draggable:_.a,TreeView:C["a"]},computed:{zoomLevel:function(){var t=window.innerWidth>1700?"90%":"80%";return{zoom:t}},userPrefs:function(){return this.$store.state.dashBoardPrefs},activeSurfs:function(){return this.surfs.filter((function(t){return!0===t.Show}))}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,o,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.addEventListener("resize",t.handleResize),t.handleResize(),e.prev=2,e.next=5,u["a"].GetDashBoardSurfs({userName:t.$store.state.currentUser});case 5:if(a=e.sent,r=JSON.parse(a.data.dashBoardSurfs),null!==t.userPrefs){n=Object(i["a"])(r);try{for(n.s();!(s=n.n()).done;)o=s.value,c=t.userPrefs.find((function(t){return t.Cross===o.Cross})),o.show=void 0!==c?c.show:o.show,t.surfs.push(o)}catch(f){n.e(f)}finally{n.f()}}else{l=Object(i["a"])(r);try{for(l.s();!(d=l.n()).done;)o=d.value,t.surfs.push(o)}catch(f){l.e(f)}finally{l.f()}}e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),t.$store.dispatch("setSnackbar",{text:"".concat(e.t0," source: DashBoard.vue-created"),top:!0});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight-65,document.documentElement.style.setProperty("--main-width","".concat(this.window.width,"px")),document.documentElement.style.setProperty("--main-height","".concat(this.window.height,"px"))},saveSetup:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.surfs.map((function(t){var e=t.Cross,a=t.Show;return{Cross:e,Show:a}})),e.next=4,u["a"].saveUserDashBoardPrefs({UserName:t.$store.state.currentUser,DashBoardUI:JSON.stringify(a)});case 4:e.sent,t.$store.dispatch("setSnackbar",{text:"DashBoard Layout Saved",centered:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$store.dispatch("setSnackbar",{text:"".concat(e.t0," source: DashBoard.vue-saveSetup"),bottom:!0});case 11:t.menu=!1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},gotoDvi:function(t){this.$store.dispatch("setActivecross",t),this.$router.push({name:"Dvi",params:{ccyPair:t.Cross}})},singleSurf:function(t){var e=[{}];return e=JSON.parse(t.Surface),e=e.map((function(t){t.DK_EFF,t.IPV_ATM,t.RR_MULT,t.S_FLY_MULT,t.SFLY25,t.SFLY10;var e=Object(o["a"])(t,["DK_EFF","IPV_ATM","RR_MULT","S_FLY_MULT","SFLY25","SFLY10"]);return Object(s["a"])({},e)})),e},getHeader:function(t){var e=t.Cross,a=JSON.parse(t.LastUpdate),r=a.Spot;return e=e+" "+r,e},getFooter:function(t){var e=JSON.parse(t.LastUpdate),a="Last Updated : "+e.Time;return a},getWarningColor:function(t){var e=JSON.parse(t.LastUpdate),a=x()(e.Time,"DD/MM/YYYY, h:mm:ss").toDate(),r=new Date,n=r-a,s=6e5,o=12e5,i=18e5,c=n<=s?"green lighten-3":n<=o?"blue lighten-3":n<=i?"orange lighten-3":"red lighten-3";return c}},watch:{}},k=D,L=(a("42f4"),a("6544")),j=a.n(L),O=a("8336"),F=a("b0af"),V=a("99d9"),E=a("a523"),T=a("132d"),B=a("8860"),R=a("da13"),U=a("1800"),$=a("5d23"),P=a("e449"),Y=a("2fa4"),z=a("b73d"),I=a("afd9"),M=a("71d9"),J=a("2a7f"),N=Object(w["a"])(k,r,n,!1,null,null,null);e["default"]=N.exports;j()(N,{VBtn:O["a"],VCard:F["a"],VCardActions:V["a"],VContainer:E["a"],VIcon:T["a"],VList:B["a"],VListItem:R["a"],VListItemAction:U["a"],VListItemTitle:$["b"],VMenu:P["a"],VSpacer:Y["a"],VSwitch:z["a"],VSystemBar:I["a"],VToolbar:M["a"],VToolbarTitle:J["a"]})},d5f0:function(t,e,a){}}]);
//# sourceMappingURL=chunk-a753a4f0.102795fa.js.map