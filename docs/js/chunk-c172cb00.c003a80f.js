(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c172cb00"],{"269a":function(e,t){e.exports=function(e,t){var a="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var n in"function"===typeof e.exports&&(a.directives=e.exports.options.directives),a.directives=a.directives||{},t)a.directives[n]=a.directives[n]||t[n]}},3530:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-flex flex-row flex-nowrap"},[a("div",{staticClass:"d-flex flex-column"},[a("v-card",{staticClass:"mr-3 d-flex flex-column",attrs:{"min-width":"225",height:e.window.height}},[a("v-list",{attrs:{dense:""}},[a("v-subheader",[e._v("COREVOLFX ADMIN")]),e._l(this.settingHeaders,(function(t){return a("v-list-item",{key:t,attrs:{ripple:""},on:{click:function(a){return e.ChangeSettings(t)}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"green darken-3"}},[e._v("mdi-dots-hexagon")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t))])],1)],1)})),a("v-list-item",{attrs:{ripple:""},on:{click:function(t){return e.backupDatabase()}}},[a("v-list-item-action",[e.backupProgress?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):a("v-icon",{attrs:{color:"green darken-3"}},[e._v("mdi-dots-hexagon")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Backup Database")])],1)],1)],2)],1)],1),a("div",{staticClass:"divCol"},[a("transition",{attrs:{name:"slide"}},["System Log"===e.settingSelection?a("v-card",{attrs:{width:"1000",height:e.window.height}},[a("v-btn",{staticClass:"ma-2",attrs:{ripple:"",small:"",icon:""}},[a("v-icon",{attrs:{color:"blue"}},[e._v("mdi-refresh-circle")])],1),a("v-card-title",[e._v(" System Log "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{dense:"","items-per-page":15,"sort-by":e.sortBy,"sort-desc":e.sortDesc,headers:e.logHeaders,items:e.log,search:e.search},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"item.LogTime",fn:function(t){var n=t.item;return[a("span",[e._v(e._s(new Date(n.LogTime).toLocaleString()))])]}}],null,!1,3866658068)})],1):e._e()],1),a("transition",{attrs:{name:"slide"}},["Manage Users"===e.settingSelection?a("v-card",{attrs:{width:"1000",height:e.window.height}},[a("v-data-table",{attrs:{headers:e.headers,items:e.data,"sort-by":"UserName",dense:"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.IsAdmin",fn:function(t){var n=t.item;return[a("v-simple-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],model:{value:n.IsAdmin,callback:function(t){e.$set(n,"IsAdmin",t)},expression:"item.IsAdmin"}})]}},{key:"item.IsAuthed",fn:function(t){var n=t.item;return[a("v-simple-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],model:{value:n.IsAuthed,callback:function(t){e.$set(n,"IsAuthed",t)},expression:"item.IsAuthed"}})]}},{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"mb-3",attrs:{dense:"",dark:"",color:"blue-grey darken-2"}},[a("v-toolbar-title",[e._v("Manage Users")]),a("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.save(n)}}},[e._v("mdi-content-save")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}}],null,!1,1571759814)})],1):e._e()],1)],1)])])},s=[],i=(a("99af"),a("4160"),a("caad"),a("d81d"),a("b64b"),a("d3b7"),a("25f0"),a("2532"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),r=a("4994"),c=a("f0c4"),o={data:function(){return{keys:[],headers:[],data:[],addNew:!1,window:{width:0,height:0},search:"",log:[],logHeaders:[{text:"MESSAGE",align:"start",sortable:!1,value:"Message"},{text:"LOG TIME",value:"LogTime"}],sortBy:"LogTime",sortDesc:!0,settingHeaders:["System Log","Manage Users"],settingSelection:"System Log",backupProgress:!1}},components:{},props:{refreshComponent:{type:Boolean,default:!1}},computed:{userList:function(){return this.data.map((function(e){return e.UserName}))}},watch:{refreshComponent:function(){this.initialize()}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.initialize()},methods:{handleResize:function(){this.window.width=window.innerWidth-50,this.window.height=window.innerHeight-65,this.setContainerDimensions()},setContainerDimensions:function(){document.documentElement.style.setProperty("--main-width","".concat(this.window.width,"px")),document.documentElement.style.setProperty("--main-height","".concat(this.window.height,"px"))},ChangeSettings:function(e){this.settingSelection=e},initialize:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateLog();case 3:return t.next=5,r["a"].GetAllUsers();case 5:a=t.sent,e.data=JSON.parse(a.data.userProfiles),n=[],e.keys=Object.keys(e.data[0]),e.keys.forEach((function(e){n.push({text:e,value:e,align:"center"})})),n.push({text:"Actions",value:"actions",align:"center",sortable:!1}),e.headers=n,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),!0===t.t0.toString().includes("403")&&(t.t0="Admin Rights Required"),e.$store.dispatch("setSnackbar",{text:"  ".concat(t.t0),centered:!0});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},updateLog:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].GetLog();case 3:a=t.sent,e.log=JSON.parse(a.data.log),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$store.dispatch("setSnackbar",{text:"  ".concat(t.t0),centered:!0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},backupDatabase:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.backupProgress=!0,e.$store.dispatch("setSnackbar",{text:"Database backup starting...",centered:!0}),t.next=5,r["a"].backupDatabase();case 5:return t.sent,e.backupProgress=!1,e.$store.dispatch("setSnackbar",{text:" Database backup complete",centered:!0}),t.next=10,e.updateLog();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.$store.dispatch("setSnackbar",{text:"  ".concat(t.t0),centered:!0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},deleteItem:function(e){var t=this;confirm("Are you sure you want to delete ".concat(e.UserName,"?"))&&r["a"].DeleteUser(e).then((function(a){t.$store.dispatch("setSnackbar",{text:"".concat(e.UserName," deleted succesfully. Status ").concat(a.status),centered:!0}),t.initialize()})).catch((function(e){!0===e.toString().includes("403")&&(e="Admin Rights Required"),t.$store.dispatch("setSnackbar",{text:" Delete Unsuccessful. ".concat(e),centered:!0})}))},save:function(e){var t=this;r["a"].UpdateUser(e).then((function(a){t.$store.dispatch("setSnackbar",{text:"".concat(e.UserName," updated succesfully. Status ").concat(a.status),centered:!0}),t.initialize()})).catch((function(e){!0===e.toString().includes("403")&&(e="Admin Rights Required"),t.$store.dispatch("setSnackbar",{text:" Update Unsuccessful. ".concat(e),centered:!0})}))}}},d=o,l=(a("4a9a"),a("2877")),u=a("6544"),p=a.n(u),h=a("8336"),m=a("b0af"),v=a("99d9"),f=a("8fea"),g=a("132d"),b=a("8860"),k=a("da13"),w=a("1800"),x=a("5d23"),y=a("490a"),S=a("9e88"),L=a("2fa4"),C=a("e0c7"),_=a("8654"),D=a("71d9"),V=a("2a7f"),A=a("269a"),I=a.n(A),R=a("5607"),U=Object(l["a"])(d,n,s,!1,null,null,null);t["default"]=U.exports;p()(U,{VBtn:h["a"],VCard:m["a"],VCardTitle:v["d"],VDataTable:f["a"],VIcon:g["a"],VList:b["a"],VListItem:k["a"],VListItemAction:w["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VProgressCircular:y["a"],VSimpleCheckbox:S["a"],VSpacer:L["a"],VSubheader:C["a"],VTextField:_["a"],VToolbar:D["a"],VToolbarTitle:V["a"]}),I()(U,{Ripple:R["a"]})},"4a9a":function(e,t,a){"use strict";var n=a("723d"),s=a.n(n);s.a},"723d":function(e,t,a){}}]);
//# sourceMappingURL=chunk-c172cb00.c003a80f.js.map